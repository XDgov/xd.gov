<script src="https://cdn.jsdelivr.net/npm/airtable@0.12.2/lib/airtable.umd.min.js"></script>

<script type="text/javascript">

    window.addEventListener('load', () => {
        const base = new Airtable({apiKey: 'patGd6p6kCeNSORjV.1d29b4f5276b20b82a16edd890e8f747a047a4164a984a49c81e1469605cfaff'}).base('appuZMt69pZnTis2t');
        const moreNewsEl = document.getElementById('more_news');

        base('News').select({
            // Selecting the first 3 records in Grid view:
            maxRecords: 3,
            view: "Grid view"
        }).eachPage(function page(records, fetchNextPage) {
            // This function (`page`) will get called for each page of records.
            let div = document.createElement('div');

            records.forEach(function(record) {
                let p = document.createElement('p');
                pinnerText = record.get('Title');
                div.append(record.get('Title'), p)
                console.log('Retrieved', record.get('Title'));
            });

            // To fetch the next page of records, call `fetchNextPage`.
            // If there are more records, `page` will get called again.
            // If there are no more records, `done` will get called.
            fetchNextPage();

        }, function done(err) {
            if (err) { console.error(err); return; }
        });
    });
</script>
